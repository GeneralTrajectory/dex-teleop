# dex-teleop Configuration
# Copy this file to .env and customize for your setup
# Usage: source config/example.env

# =============================================================================
# CRITICAL: Enable live robot control
# =============================================================================
# Set to "1" to actually move the robot. Default "0" = print commands only.
# CAUTION: Ensure workspace is clear before enabling!
export EXECUTE_LIVE="0"

# =============================================================================
# xArm Robot Configuration
# =============================================================================

# Robot IP addresses (find in xArm Studio or teach pendant)
export XARM_IP_LEFT="192.168.1.111"
export XARM_IP_RIGHT="192.168.1.214"

# Home position (mm and degrees)
export XARM_HOME_X_MM="275"
export XARM_HOME_Y_MM="0"
export XARM_HOME_Z_MM="670"
export XARM_HOME_ROLL_DEG="180"
export XARM_HOME_PITCH_DEG="-1"
export XARM_HOME_YAW_DEG="0"

# =============================================================================
# Vive Tracker Configuration
# =============================================================================

# Tracker serial numbers (find in SteamVR: Devices â†’ Device Info)
# Leave unset to auto-assign trackers
export VIVE_TRACKER_LEFT=""
export VIVE_TRACKER_RIGHT=""

# Position and rotation scaling
export VIVE_POSITION_SCALE="1.5"
export VIVE_ROTATION_SCALE="1.0"

# Per-axis position scaling (multiplied after global scale)
export VIVE_POSITION_SCALE_X="1.5"
export VIVE_POSITION_SCALE_Y="2.0"
export VIVE_POSITION_SCALE_Z="1.5"

# =============================================================================
# Teleoperation Settings
# =============================================================================

# Control loop rate (Hz)
export TELEOP_RATE_HZ="100"

# Motion speed (mm/s, used in some modes)
export TELEOP_SPEED="100"

# Smooth re-engagement after workspace violations (number of frames)
export TELEOP_REENGAGEMENT_STEPS="30"

# =============================================================================
# Safety Settings
# =============================================================================

# Table height in mm (Z-height of table surface in robot base frame)
export TABLE_Z_MM="15"

# Minimum clearance above table (mm)
export TABLE_CLEARANCE_MM="5"

# Gripper dimensions for collision detection (mm)
export GRIPPER_TIP_LENGTH_MM="200"
export GRIPPER_RADIUS_MM="50"
export GRIPPER_TIP_RADIUS_MM="18"

# =============================================================================
# Quest Hand Tracking Configuration
# =============================================================================

# Control rate (Hz)
export QUEST_RATE_HZ="60"

# Smoothing settings
export QUEST_USE_MEDIAN="0"
export QUEST_EMA_BYPASS="8"
export QUEST_EMA_SLOW="0.5"
export QUEST_QUANT="4"

# Calibrated finger curl ranges
export QUEST_CURL_MIN="0.2"
export QUEST_CURL_MAX="1.0"

# Calibrated thumb flexion ranges
export QUEST_TFLEX_MIN="30.0"
export QUEST_TFLEX_MAX="100.0"

# Calibrated thumb opposition ranges
export QUEST_TOPP_MIN="90.0"
export QUEST_TOPP_MAX="100.0"
export QUEST_TOPP_INVERT="1"

# Inspire Hand actuator speed (0-1000)
export INSPIRE_SPEED="1000"

# =============================================================================
# Recording Settings
# =============================================================================

# Use tracker proxy process (crash isolation)
export RECORDER_USE_TRACKER_PROXY="1"

# Use xArm I/O proxy process (crash isolation)
export RECORDER_USE_XARM_IO_PROXY="1"
